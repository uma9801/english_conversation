# english_conversation

改修箇所
    テンプレートが更新されていない可能性⇒ディクテーションで、testやwhyなど適当な単語の入力に対して満点の評価が返ってくるケースがある。
        1度満点を取った後は、何を入力しても満点になる。日本語入力も満点。
            上の状態からシャドーイングにモードを変えても同じ状況が続く。何を言っても言わなくても満点。
    UI改善点
        毎回下までスクロールするので、モードや設定を変える時に上まで戻すのが面倒
            設定項目サイドバー化
                全体的にボタン名が分かりにくい
        モードの詳しい説明を記載し、ユーザーの入力精度を高める
            「日常英会話」単純にAIと音声会話ができるだけでなく、適宜文法添削を行ってくれます。
            「シャドーイング」AIがランダムな英文を読み上げた後、それを真似て発話し、AIが出題した英文とユーザーの発話文を照合の上、評価を行ってくれる機能
            「ディクテーション」AIがランダムな英文を読み上げた後、画面下部のチャット欄から英文を真似て入力し、AIが出題した英文とユーザーが記述した英文を照合した上で、評価を行ってくれる機能


    日常会話からシャドーイングに切り替えて英会話開始ボタンを押すとアプリが発話するが、「何も書いてないですね」という旨の発言をする（これが評価になっている）。発言文自体はシャドーイングの問題文として作成されている。入力した音声はUIに表示されるが、評価がおかしい。入力内容はテンプレートには渡されている。
    ft.create_evaluation において、引数が空でユーザーの音声入力を渡しておらず評価ができない状態だった部分を改修すれば回答は行われるが、会話形式が続き、評価は行われないし日本語でもない。（テンプレートに問題がありそう）ただし、最初期にシャドーイングモードを選んでいれば引数空でも問題なく日本語で適切な評価が行われる。
        シャドーイング：会話レベル変更後に「開始」を押してもリアクションがない。仕方なく「シャドーイング開始」を押してもレベルが変わっているように思えない。（変更の反映がキャッチできない）
            モードを変えない限りSYSTEM＿PROMPTのレベルが変更されない。反映させる機構がない（速度はある）。
        モード切替に対応していない。学習レベルや実行chainは変化するが、初期選択のモードで無理やり動き続ける。
            モードが切り替わったら初期化するようにするか？そもそもフラグ管理ができているか？
    評価が適当だしアドバイスも毎回同じだし具体的に役に立つ内容ではない
        assistant avatar：Could you help me with this project? I really appreciate it!
        user avatar：Could you help me? Could you help me? Project?
        【評価】
        ✓ 正確に再現できた部分
        「Could you help me with this project?」というフレーズは正確に再現されている。
        【アドバイス】
         次回の練習では、元の文の内容を忠実に再現することを心がけてみてください。追加の表現は良いですが、元のメッセージを明確に伝えることが最優先です。あなたの努力は素晴らしいので、次回も自信を持って練習を続けてください！

         回答ができていれば具体的なアドバイスになる
         assistant avatar：Could you please pass me the salt while we enjoy this lovely dinner together?
        user avatar：Could you please pass me that salt while we enjoy this lovely dinner together?
        【評価】✓ 正確に再現できた部分
        文の構造はほぼ同じで、全体の流れが保たれている。
        「while we enjoy this lovely dinner together」という部分は完全に一致している。
        △ 改善が必要な部分
        「the salt」を「that salt」と誤って変更している。ここでは「the」が適切であるため、正確性に欠ける。
        【アドバイス】 次回の練習では、特に定冠詞（the）や指示詞（this, that）の使い方に注意してみてください。文章の細部に気を配ることで、より正確に表現できるようになります。あなたの努力は素晴らしいです！次の練習も頑張ってくださいね。

回答精度を上げるためのアイデア
    任意のタイミングで日本語訳が得られるようにしたい
    発話後、5秒間沈黙することで音声入力が完了します、と説明されているが、音声入力後に「発話終了ボタン」を押さなくてはならない
    説明にある一時中断ボタンがない。
    発言に対して、修正後の文章表示だけでなく、発言内容そのものも表示できたら良い。また、修正した内容の解説も欲しい。
    初級者用なら、発言の要約を省いて短い返事にした方が分かり易い。かつもっと平易な単語を使用した方が良い。
    低速モードの0.6が、人間の言葉に聞き取れず役に立たない

アプリ自体の改善アイデア
    ####各モードで、AIの発音をもう一度再生するボタンが欲しい
    回答文章の表示と発話を同時にストリーミングして欲しい

ver.1.03
    シャドーイングにおいて、first_flgの判定で初回しかテンプレートの更新が行われなかった箇所を修正（問題文も入力文も毎回変わる）
    ft.create_evaluation において、引数が空でユーザーの音声入力を渡しておらず評価ができなくなるケースを改修（日常英会話→シャドーイングのモード変更時に発生）

Ver.1.02
    テンプレートに{englv}を組み込んだ上で、英語レベル変更時に各フラグを修正し、選択したレベルが反映されるように改善

Ver.1.01
    ログ取得を追加
    ボタン名称を整合性が取れるように修正

Ver.1.00
    コードをダウンロードし、試験的に実行